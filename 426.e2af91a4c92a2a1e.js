"use strict";(self.webpackChunkfisrtAngular=self.webpackChunkfisrtAngular||[]).push([[426],{7426:(x,p,c)=>{c.r(p),c.d(p,{DetailModule:()=>v});var s=c(1896),t=c(5879),P=c(7997),h=c(5627),C=c(1106),d=c(6814),l=c(617);function m(r,L){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",18)(2,"mat-icon",19),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.likeProduct())}),t._uU(3,"favorite"),t.qZA()(),t.BQk()}}function _(r,L){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",20)(2,"mat-icon",19),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.likeProduct())}),t._uU(3,"favorite_border"),t.qZA()(),t.BQk()}}let u=(()=>{class r{constructor(n,e,o,i,a){this.proSrv=n,this.route=e,this.accSrv=o,this.router=i,this.cartSrv=a,this.currentProduct={},this.arrLikeProduct=[],this.productInfo={},this.listProductOnCart=[],this.tempListProductOnCart=[],this.accLogin=this.accSrv.accLogin,this.isLogin=this.accSrv.isLogin,this.setArrLikeProduct(),this.proSrv.getListProduct().then(g=>{this.setCurrentProduct(g),this.checkIsLiked(this.currentProduct),localStorage.getItem("productInfo")&&(this.productInfo=JSON.parse(`${localStorage.getItem("productInfo")}`),this.isLogin&&!this.currentProduct.isLiked)&&(this.currentProduct.isLiked=!0,this.arrLikeProduct.push({productId:this.productInfo.productId,type:this.productInfo.type,userId:this.accLogin.userId}),localStorage.setItem("productsLiked",JSON.stringify(this.arrLikeProduct)),localStorage.removeItem("productInfo"))}).catch(g=>{})}getParamUrl(){return{id:this.route.snapshot.params.id,name:this.route.snapshot.params.name}}setCurrentProduct(n){const e=this.getParamUrl().id,o=this.getParamUrl().name;this.currentProduct=n.find(i=>{if(i.type===o&&i.id===e)return i})}likeProduct(){this.proSrv.getListProduct().then(n=>{if(this.setCurrentProduct(n),this.accLogin)if(this.checkIsLiked(this.currentProduct),this.currentProduct.isLiked){if(this.currentProduct.isLiked){this.currentProduct.isLiked=!1;const e=this.arrLikeProduct.filter(o=>{if(o.userId!==this.accLogin.userId||o.productId!==this.currentProduct.id||o.type!==this.currentProduct.type)return o});localStorage.setItem("productsLiked",JSON.stringify(e)),this.setArrLikeProduct(),this.updateLike("minus")}}else this.currentProduct.isLiked=!0,this.arrLikeProduct.push({productId:this.currentProduct.id,type:this.currentProduct.type,userId:this.accLogin.userId}),localStorage.setItem("productsLiked",JSON.stringify(this.arrLikeProduct)),this.setArrLikeProduct(),this.updateLike("plus");else this.accSrv.setCurUrl(`detail/${this.getParamUrl().name}/${this.getParamUrl().id}`),this.router.navigate(["login"]),localStorage.setItem("productInfo",JSON.stringify({productId:this.currentProduct.id,type:this.currentProduct.type}))}).catch(n=>{})}updateLike(n){this.proSrv.getListProduct().then(e=>{const o=e.find(i=>{if(i.description===this.currentProduct.description){switch(n){case"plus":i.like+=1;break;case"minus":i.like-=1}return i}});this.proSrv.updateProduct(o.id,o).subscribe()}).catch(e=>{})}setArrLikeProduct(){localStorage.getItem("productsLiked")&&(this.arrLikeProduct=JSON.parse(`${localStorage.getItem("productsLiked")}`))}checkIsLiked(n){this.isLogin?(n.isLiked=!1,this.arrLikeProduct&&this.arrLikeProduct.length>0&&this.arrLikeProduct.find(o=>o.type===n.type&&o.productId===n.id&&o.userId===this.accLogin.userId)&&(n.isLiked=!0)):n.isLiked=!1}addToCart(){alert("\u0110\xe3 th\xeam v\xe0o gi\u1ecf h\xe0ng!");let n={id:Math.floor(10*Math.random()+1).toString(),type:this.currentProduct.type,image:this.currentProduct.image,description:this.currentProduct.description,price:this.currentProduct.price,quantity:1,subtotal:this.currentProduct.price,deliveryOption:"",delivery:0,total:this.currentProduct.price,isChecked:!1};this.cartSrv.getListProduct().then(e=>{if(this.isLogin){n.user=this.accLogin.userId;const i=e.filter(a=>a.user===this.accLogin.userId).find(a=>a.description===n.description);i?(i.quantity+=1,i.subtotal=i.quantity*i.price,this.cartSrv.updateProduct(i.id,i).subscribe()):this.cartSrv.createProduct(n).subscribe()}else{n.user="guest";const i=e.filter(a=>"guest"===a.user).find(a=>a.description===n.description);i?(i.quantity+=1,i.subtotal=i.quantity*i.price,this.cartSrv.updateProduct(i.id,i).subscribe()):this.cartSrv.createProduct(n).subscribe()}}).catch(e=>{})}navigate(){this.proSrv.getListProduct().then(n=>{switch(this.setCurrentProduct(n),this.currentProduct.type){case"phone":this.proSrv.setTypeProduct("phone");break;case"laptop":this.proSrv.setTypeProduct("laptop");break;case"tablet":this.proSrv.setTypeProduct("tablet");break;case"watch":this.proSrv.setTypeProduct("watch")}this.router.navigate([""])})}static#t=this.\u0275fac=function(e){return new(e||r)(t.Y36(P.M),t.Y36(s.gz),t.Y36(h.B),t.Y36(s.F0),t.Y36(C.N))};static#n=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-detail"]],decls:46,vars:11,consts:[[1,"detail-product-container"],["aria-hidden","false","fontIcon","arrow_back",1,"back",3,"click"],[1,"detail-product-main"],[1,"image-size"],["alt","",1,"image",3,"src"],[1,"slideshow-button"],[1,"focus"],[1,"text-choose-size"],[1,"choose-size"],[1,"detail"],[1,"text-1"],[1,"text-2"],[1,"price"],[1,"description"],[1,"sold"],[1,"button"],[1,"add-to-cart-button",3,"click"],[4,"ngIf"],[1,"icon-button-like"],[3,"click"],[1,"icon-button"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-icon",1),t.NdJ("click",function(){return o.navigate()}),t.qZA(),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"div",5),t._UZ(6,"span")(7,"span")(8,"span",6)(9,"span"),t.qZA(),t.TgZ(10,"p",7),t._uU(11,"choose size"),t.qZA(),t.TgZ(12,"div",8)(13,"span"),t._uU(14,"5"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"6"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"7"),t.qZA(),t.TgZ(19,"span"),t._uU(20,"8"),t.qZA(),t.TgZ(21,"span",6),t._uU(22,"9"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"10"),t.qZA(),t.TgZ(25,"span"),t._uU(26,"11"),t.qZA(),t.TgZ(27,"span"),t._uU(28,"12"),t.qZA()()(),t.TgZ(29,"div",9)(30,"p",10),t._uU(31,"DAVIDTUAN TECHSHOP"),t.qZA(),t.TgZ(32,"h3",11),t._uU(33),t.qZA(),t.TgZ(34,"h3",12),t._uU(35),t.ALo(36,"number"),t.qZA(),t.TgZ(37,"p",13),t._uU(38),t.qZA(),t.TgZ(39,"p",14),t._uU(40),t.qZA(),t.TgZ(41,"div",15)(42,"button",16),t.NdJ("click",function(){return o.addToCart()}),t._uU(43,"ADD TO CART"),t.qZA(),t.YNc(44,m,4,0,"ng-container",17),t.YNc(45,_,4,0,"ng-container",17),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("src",o.currentProduct.image,t.LSH),t.xp6(29),t.Oqu(o.currentProduct.description),t.xp6(2),t.Oqu(t.xi3(36,8,o.currentProduct.price,"1.0-0")),t.xp6(3),t.Oqu(o.currentProduct.info),t.xp6(2),t.AsE("",o.currentProduct.sold," \u0111\xe3 b\xe1n | ",o.currentProduct.like," l\u01b0\u1ee3t th\xedch"),t.xp6(4),t.Q6J("ngIf",o.currentProduct.isLiked),t.xp6(1),t.Q6J("ngIf",!o.currentProduct.isLiked))},dependencies:[d.O5,l.Hw,d.JJ],styles:['@import"https://fonts.googleapis.com/css?family=Lato:400,700";[_ngcontent-%COMP%]:root{--white: #F5F5F5;--light: #E0C9CB;--tan: #C3A1A0;--pink: #D9AAB7;--rose: #BA7E7E;--dark: #4E4E4E}.detail-product-container[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{color:#000;margin-left:30px;margin-top:30px}.detail-product-container[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]:hover{cursor:pointer}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]{margin-top:30px;margin-left:18%;height:auto;display:flex;justify-content:space-between;gap:20px;width:60%;background:var(--white);border-radius:10px;padding:1em;box-shadow:5px 5px 15px #ba7e7e80}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:20em}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .slideshow-button[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1em;margin-top:20px}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .slideshow-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#E0C9CB}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .slideshow-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:#ba7e7e}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .slideshow-button[_ngcontent-%COMP%]   .focus[_ngcontent-%COMP%]{background:#BA7E7E}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .text-choose-size[_ngcontent-%COMP%]{text-transform:uppercase;color:#ba7e7e;font-size:16px;margin-top:10px;margin-left:18px}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .choose-size[_ngcontent-%COMP%]{display:flex;gap:.4em;justify-content:space-evenly;margin-top:10px}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .choose-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:1px solid #E0C9CB;width:24px;height:24px;display:flex;align-items:center;justify-content:center;padding:2px;font-size:.7em}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .choose-size[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background:#BA7E7E;color:#f5f5f5;cursor:pointer;transition:all .4s ease-in-out}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .image-size[_ngcontent-%COMP%]   .choose-size[_ngcontent-%COMP%]   .focus[_ngcontent-%COMP%]{background:#BA7E7E;color:#f5f5f5}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .text-1[_ngcontent-%COMP%]{color:#ba7e7e;font-size:17px}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#4e4e4e}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.6em;color:var(--rose);letter-spacing:1px}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-transform:none;letter-spacing:0;margin-bottom:17px;color:#4e4e4e;font-size:1.2em;line-height:1.6em;text-align:justify}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .sold[_ngcontent-%COMP%]{font-size:20px;color:red}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;gap:50px}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .add-to-cart-button[_ngcontent-%COMP%]{background:#C3A1A0;height:30px;width:67%;outline:0;border:0;border-radius:2px;letter-spacing:1px;color:#f5f5f5;cursor:pointer}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .add-to-cart-button[_ngcontent-%COMP%]:hover{background:#BA7E7E;transition:all .4s ease-in-out}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{color:#000;width:10%;cursor:pointer}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]:hover{color:red;transition:all .4s ease-in-out}.detail-product-container[_ngcontent-%COMP%]   .detail-product-main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .icon-button-like[_ngcontent-%COMP%]{cursor:pointer;color:red}']})}return r})();const O=[{path:":name/:id",component:u}];let f=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#n=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({imports:[s.Bz.forChild(O),s.Bz]})}return r})();var M=c(4085),k=c(3246);let b=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#n=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-detail-page"]],decls:2,vars:0,template:function(e,o){1&e&&t._UZ(0,"app-detail")(1,"router-outlet")},dependencies:[s.lC,u],encapsulation:2})}return r})(),v=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#n=this.\u0275mod=t.oAB({type:r,bootstrap:[b]});static#e=this.\u0275inj=t.cJS({imports:[d.ez,M.O,f,l.Ps,k.HomeModule]})}return r})()}}]);